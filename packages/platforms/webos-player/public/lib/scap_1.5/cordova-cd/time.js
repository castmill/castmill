cordova.define("cordova/plugin/time",function(c,e,b){function d(k){}var f;if(window.PalmSystem){d("Window.PalmSystem Available");f=c("cordova/plugin/webos/service")}else{f={Request:function(k,l){d(k+" invoked. But I am a dummy because PalmSystem is not available");if(typeof l.onFailure==="function"){l.onFailure({returnValue:false,errorText:"PalmSystem Not Available. Cordova is not installed?"})}}}}var g=function(){};function i(l,m,k){if(l.errorCode===undefined||l.errorCode===null){l.errorCode=m}if(l.errorText===undefined||l.errorText===null){l.errorText=k}}var h=null;var a={};function j(k){if(h===null){f.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(l){d("getPlatformInfo: onSuccess");d("version : "+l.sdkVersion);var m=l.sdkVersion.split(".");if(m.length>=1&&m[0]==="1"){a={webOSVer:1,chipset:l.boardType.split("_")[0]}}else{if(m.length>=1&&m[0]==="2"){a={webOSVer:2,chipset:l.boardType.split("_")[0]}}else{if(m.length>=1&&m[0]==="3"){a={webOSVer:3,chipset:l.boardType.split("_")[0]}}else{a={webOSVer:0,chipset:""}}}}h=a.webOSVer;k(a)},onFailure:function(l){d("getPlatformInfo: onFailure");a={webOSVer:0,chipset:""};k(a)}})}else{k(a)}}g.prototype.setHolidayScheduleMode=function(l,m,o){d("setHolidayScheduleMode: "+o.enabled);var n={};i(n,"ERROR","This function is not supported");m(n);return;if(o.enabled===null&&typeof m==="function"){var k={};i(k,"TSHM","Time.setHolidayScheduleMode returns failure. command was not defined.");m(k);d("Time.setHolidayScheduleMode invalid ");return}f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{holidayScheduleMode:(o.enabled===true)?"on":"off"}},onSuccess:function(p){d("setHolidayScheduleMode: On Success");if(p.returnValue===true){if(typeof l==="function"){l()}}},onFailure:function(p){d("setHolidayScheduleMode: On Failure");delete p.returnValue;if(typeof m==="function"){i(p,"TSHM","Time.setHolidayScheduleMode returns failure.");m(p)}}});d("Time.setHolidayScheduleMode Done")};g.prototype.getHolidayScheduleMode=function(k,l){d("getHolidayScheduleMode: ");var m={};i(m,"ERROR","This function is not supported");l(m);return;f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["holidayScheduleMode"]},onSuccess:function(n){d("getHolidayScheduleMode: On Success");if(n.returnValue===true){var o={};o.enabled=(n.settings.holidayScheduleMode==="on")?true:false;if(typeof k==="function"){k(o)}}},onFailure:function(n){d("getHolidayScheduleMode: On Failure");delete n.returnValue;if(typeof l==="function"){i(n,"TGHM","Time.getHolidayScheduleMode returns failure.");l(n)}}});d("Time.getHolidayScheduleMode Done")};g.prototype.addHolidaySchedule=function(n,o,q){d("addHolidaySchedule: startMonth : "+q.startMonth+", startDay : "+q.startDay+", endMonth : "+q.endMonth+", endDay : "+q.endDay);var p={};i(p,"ERROR","This function is not supported");o(p);return;var m=new Date((new Date()).getFullYear(),q.startMonth-1,q.startDay,0,0);var l=new Date((new Date()).getFullYear(),q.endMonth-1,q.endDay,0,0);if(typeof o==="function"){if(typeof q.startMonth!=="number"||typeof q.startDay!=="number"||isNaN(q.startMonth)||isNaN(q.startDay)||typeof q.endMonth!=="number"||typeof q.endDay!=="number"||isNaN(q.endMonth)||isNaN(q.endDay)){var k={};i(k,"TAHS","Time.addHolidaySchedule returns failure. parmas are not valid.");o(k);return}if(m.getMonth()!==q.startMonth-1||m.getDate()!==q.startDay||l.getMonth()!==q.endMonth-1||l.getDate()!==q.endDay){var k={};i(k,"TAHS","Time.addHolidaySchedule returns failure for out of range.");o(k);return}if(m.getTime()>l.getTime()){var k={};i(k,"TAHS","Time.addHolidaySchedule returns failure. schedule is not valid.");o(k);return}}f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["holidaySchedule"]},onSuccess:function(r){d("getHolidaySchedule: On Success");if(r.returnValue===true){if(typeof n==="function"){var v={};var u=null;var t=null;var w=r.settings.holidaySchedule;if(w.length>=7){var r={};i(r,"TAHS","Time.addHolidaySchedule returns failure. schedule list is full");o(r);return}for(var s=0;s<w.length;s++){u=new Date((new Date()).getFullYear(),w[s].startMonth-1,w[s].startDay,0,0);t=new Date((new Date()).getFullYear(),w[s].endMonth-1,w[s].endDay,0,0);if(((u.getTime()<=m.getTime())&&(t.getTime()>m.getTime()))||((u.getTime()<l.getTime())&&(t.getTime()>=l.getTime()))||((u.getTime()===m.getTime())&&(t.getTime()===l.getTime()))||((m.getTime()===l.getTime())&&(t.getTime()===m.getTime()))){var r={};i(r,"TAHS","Time.addHolidaySchedule returns failure. schedule is not valid");o(r);return}}v.startMonth=q.startMonth;v.startDay=q.startDay;v.endMonth=q.endMonth;v.endDay=q.endDay;w.push(v);d("scheduleList : "+JSON.stringify(w));f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{holidaySchedule:w}},onSuccess:function(x){d("addHolidaySchedule: On Success");if(x.returnValue===true){if(typeof n==="function"){n()}}},onFailure:function(x){d("addHolidaySchedule: On Failure");delete x.returnValue;if(typeof o==="function"){i(x,"TAHS","Time.addHolidaySchedule returns failure.");o(x)}}})}}},onFailure:function(r){d("addHolidaySchedule: On Failure");delete r.returnValue;if(typeof o==="function"){i(r,"TAHS","Time.addHolidaySchedule returns failure.");o(r)}}});d("Time.addHolidaySchedule Done")};g.prototype.delHolidaySchedule=function(l,m,o){d("delHolidaySchedule: id : "+o.scheduleId);var n={};i(n,"ERROR","This function is not supported");m(n);return;if((typeof o.scheduleId!=="string"||o.scheduleId===undefined||o.scheduleId===null)&&typeof m==="function"){var k={};i(k,"TDHS","Time.delHolidaySchedule returns failure. scheduleId is not valid.");m(k);d("Time.delHolidaySchedule invalid ");return}f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["holidaySchedule"]},onSuccess:function(p){d("getHolidaySchedule: On Success");if(p.returnValue===true){if(typeof l==="function"){var t=null;var s=[];var q=false;t=p.settings.holidaySchedule;d("before scheduleList : "+JSON.stringify(t));for(var r=0;r<t.length;r++){if(t[r]._id===o.scheduleId){q=true}else{s.push(t[r])}}if(q===false&&typeof m==="function"){var p={};i(p,"TDHS","Time.delHolidaySchedule returns failure. can not find schedule id.");m(p);d("Time.delHolidaySchedule invalid ");return}d("after scheduleList : "+JSON.stringify(s));f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{holidaySchedule:s}},onSuccess:function(u){d("delHolidaySchedule: On Success");if(u.returnValue===true){if(typeof l==="function"){l()}}},onFailure:function(u){d("delHolidaySchedule: On Failure");delete u.returnValue;if(typeof m==="function"){i(u,"TDHS","Time.delHolidaySchedule returns failure.");m(u)}}})}}},onFailure:function(p){d("delHolidaySchedule: On Failure");delete p.returnValue;if(typeof m==="function"){i(p,"TDHS","Time.delHolidaySchedule returns failure.");m(p)}}});d("Time.delHolidaySchedule Done")};g.prototype.delAllHolidaySchedules=function(k,l){d("delAllHolidaySchedules: ");var m={};i(m,"ERROR","This function is not supported");l(m);return;f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:{holidaySchedule:[]}},onSuccess:function(n){d("delAllHolidaySchedules: On Success");if(n.returnValue===true){if(typeof k==="function"){k()}}},onFailure:function(n){d("delAllHolidaySchedules: On Failure");delete n.returnValue;if(typeof l==="function"){i(n,"TDAS","Time.delAllHolidaySchedules returns failure.");l(n)}}});d("Time.delAllHolidaySchedules Done")};g.prototype.getAllHolidaySchedules=function(k,l){d("getAllHolidaySchedules: ");var m={};i(m,"ERROR","This function is not supported");l(m);return;f.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["holidaySchedule"]},onSuccess:function(n){d("getHolidaySchedule: On Success");if(n.returnValue===true){if(typeof k==="function"){var o={};o.holidayScheduleList=n.settings.holidaySchedule;if(typeof k==="function"){k(o)}}}},onFailure:function(n){d("getAllHolidaySchedules: On Failure");delete n.returnValue;if(typeof l==="function"){i(n,"TGAS","Time.getAllHolidaySchedules returns failure.");l(n)}}});d("Time.getAllHolidaySchedules Done")};g.prototype.getHolidaySchedule=function(k,l){d("getHolidaySchedule: ");f.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"getHolidaySchedule",parameters:{},onSuccess:function(m){d("getHolidaySchedule: On Success");if(m.returnValue===true){if(typeof k==="function"){var n={};n.holidayScheduleList=m.settings.holidaySchedule;if(typeof k==="function"){k(n)}}}},onFailure:function(m){d("getHolidaySchedule: On Failure");delete m.returnValue;if(typeof l==="function"){i(m,"TGAS","Time.getHolidaySchedule returns failure.");l(m)}}});d("Time.getHolidaySchedule Done")};g.prototype.setHolidaySchedule=function(k,l,m){d("setHolidaySchedule: ");f.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"setHolidaySchedule",parameters:m,onSuccess:function(n){d("setHolidaySchedule: On Success");if(n.returnValue===true){if(typeof k==="function"){if(typeof k==="function"){k()}}}},onFailure:function(n){d("setHolidaySchedule: On Failure");delete n.returnValue;if(typeof l==="function"){i(n,"TGAS","Time.setHolidaySchedule returns failure.");l(n)}}});d("Time.setHolidaySchedule Done")};g.prototype.unsetHolidaySchedule=function(k,l){d("unsetHolidaySchedule: ");f.Request("luna://com.webos.service.commercial.signage.storageservice/",{method:"unsetHolidaySchedule",parameters:{},onSuccess:function(m){d("unsetHolidaySchedule: On Success");if(m.returnValue===true){if(typeof k==="function"){if(typeof k==="function"){k()}}}},onFailure:function(m){d("unsetHolidaySchedule: On Failure");delete m.returnValue;if(typeof l==="function"){i(m,"TGAS","Time.unsetHolidaySchedule returns failure.");l(m)}}});d("Time.unsetHolidaySchedule Done")};b.exports=g});Time=cordova.require("cordova/plugin/time");