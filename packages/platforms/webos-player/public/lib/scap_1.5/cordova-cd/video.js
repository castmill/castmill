cordova.define("cordova/plugin/video",function(c,e,b){function d(j){}var f;if(window.PalmSystem){d("Window.PalmSystem Available");f=c("cordova/plugin/webos/service")}else{f={Request:function(j,k){d(j+" invoked. But I am a dummy because PalmSystem is not available");if(typeof k.onFailure==="function"){k.onFailure({returnValue:false,errorText:"PalmSystem Not Available. Cordova is not installed?"})}}}}var i=function(){};function g(k,l,j){if(k.errorCode===undefined||k.errorCode===null){k.errorCode=l}if(k.errorText===undefined||k.errorText===null){k.errorText=j}}var a={webOSVer:-1,chipset:"undefined"};function h(j){if(a.webOSVer===-1){f.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["sdkVersion","boardType"]},onSuccess:function(k){var l=k.sdkVersion.split(".");if(l.length>=1&&l[0]==="1"){a={webOSVer:1,chipset:k.boardType.split("_")[0]}}else{if(l.length>=1&&l[0]==="2"){a={webOSVer:2,chipset:k.boardType.split("_")[0]}}else{if(l.length>=1&&l[0]==="3"){a={webOSVer:3,chipset:k.boardType.split("_")[0]}}else{a={webOSVer:0,chipset:""}}}}j(a)},onFailure:function(k){a={webOSVer:0,chipset:""};j(a)}})}else{j(a)}}i.prototype.getVideoStatus=function(j,k){d("getVideoStatus: ");f.Request("luna://com.webos.service.tv.signage/",{method:"getVideoSize",onSuccess:function(l){d("getVideoStatus: On Success");if(l.returnValue===true){if(typeof j==="function"){var m={};m.source=l.videoSize.source;j(m)}}},onFailure:function(l){d("getVideoStatus: On Failure");delete l.returnValue;if(typeof k==="function"){g(l,"VGVS","Video.getVideoStatus returns failure.");k(l)}}});d("Video.getVideoStatus Done")};i.currentVideo={uri:null,source:null,tagId:null};i.prototype.setVideoSize=function(k,l,m){d("setVideoSize: "+JSON.stringify(m));if(m.source===undefined||typeof m.source.x!=="number"||typeof m.source.y!=="number"||typeof m.source.width!=="number"||typeof m.source.height!=="number"||isNaN(m.source.x)||isNaN(m.source.y)||isNaN(m.source.width)||isNaN(m.source.height)||m.source.x<0||m.source.y<0||m.source.width<=0||m.source.height<=0||m.source.width<16||m.source.height<16){if(typeof l==="function"){var j={};g(j,"VSVS","Video.setVideoSize returns failure. out of range or type error.");l(j)}return}f.Request("luna://com.webos.service.tv.signage/",{method:"getVideoSize",onSuccess:function(n){d("setVideoSize: On Success");if(n.returnValue===true){var r={};r.x=n.videoSize.destination.x;r.y=n.videoSize.destination.y;r.width=n.videoSize.destination.width;r.height=n.videoSize.destination.height;var o=document.getElementsByTagName("video");var q=false;for(var p=0;p<o.length;p++){if(o[p].currentTime>0){q=true;if(i.currentVideo.uri!==o[p].src||(o[p].id!==null&&o[p].id!==undefined&&i.currentVideo.tagId!==null&&i.currentVideo.tagId!==undefined&&i.currentVideo.tagId!==o[p].id)){i.currentVideo.uri=o[p].src;i.currentVideo.source=n.videoSize.source;i.currentVideo.tagId=o[p].id}break}}if(q===false){f.Request("luna://com.webos.service.eim/",{method:"getCurrentInput",parameters:{},onSuccess:function(t){if(t.returnValue===true&&i.currentVideo.uri!==t.mainInputSourceId||(o[0].id!==null&&o[0].id!==undefined&&i.currentVideo.tagId!==null&&i.currentVideo.tagId!==undefined&&i.currentVideo.tagId!==o[0].id)){i.currentVideo.uri=t.mainInputSourceId;i.currentVideo.tagId=(o[0]!==null&&o[0].id!==null&&o[0].id!==undefined?o[0].id:null);f.Request("luna://com.webos.service.tv.signage/",{method:"getVideoSize",onSuccess:function(x){d("setVideoSize: On Success 1");if(x.returnValue===true){i.currentVideo.source=x.videoSize.source;if(x.videoSize.source.width===0&&x.videoSize.source.height===0){i.currentVideo={uri:null,source:null,tagId:null};var w={};g(w,"VSVS","Video.setVideoSize returns failure. Not ready to setVideoSize.");l(w);return}else{if(i.currentVideo.uri===null||i.currentVideo.source===null||(m.source.width+m.source.x)>(i.currentVideo.source.x+i.currentVideo.source.width)||(m.source.height+m.source.y)>(i.currentVideo.source.y+i.currentVideo.source.height)){var v={};g(v,"VSVS","Video.setVideoSize returns failure. out of range or type error.("+i.currentVideo.source.width+" : "+i.currentVideo.source.height+")");l(v);return}}f.Request("luna://com.webos.service.tv.signage/",{method:"setVideoSize",parameters:{videoSize:{source:{x:m.source.x,y:m.source.y,width:m.source.width,height:m.source.height},destination:{x:r.x,y:r.y,width:r.width,height:r.height}}},onSuccess:function(y){d("setVideoSize: On Success 2");if(y.returnValue===true&&typeof k==="function"){k();return}},onFailure:function(y){d("setVideoSize: On Failure 2");delete y.returnValue;if(typeof l==="function"){g(y,"VSVS","Video.setVideoSize returns failure. Can't current video source size.");l(y);return}}})}}})}else{if(i.currentVideo.uri===null||i.currentVideo.source===null||(m.source.width+m.source.x)>(i.currentVideo.source.x+i.currentVideo.source.width)||(m.source.height+m.source.y)>(i.currentVideo.source.y+i.currentVideo.source.height)){var u={};g(u,"VSVS","Video.setVideoSize returns failure. out of range or type error.("+i.currentVideo.source.width+" : "+i.currentVideo.source.height+")");l(u);return}f.Request("luna://com.webos.service.tv.signage/",{method:"setVideoSize",parameters:{videoSize:{source:{x:m.source.x,y:m.source.y,width:m.source.width,height:m.source.height},destination:{x:r.x,y:r.y,width:r.width,height:r.height}}},onSuccess:function(v){d("setVideoSize: On Success 3");if(v.returnValue===true&&typeof k==="function"){k();return}},onFailure:function(v){d("setVideoSize: On Failure 3");delete v.returnValue;if(typeof l==="function"){g(v,"VSVS","Video.setVideoSize returns failure. Can't current video source size.");l(v);return}}})}},onFailure:function(t){d("setVideoSize: On Failure 3");delete t.returnValue;if(typeof l==="function"){g(t,"VSVS","Video.setVideoSize returns failure. Can't set current video source size.");l(t);return}}})}else{if(i.currentVideo.uri===null||i.currentVideo.source===null||(m.source.width+m.source.x)>(i.currentVideo.source.x+i.currentVideo.source.width)||(m.source.height+m.source.y)>(i.currentVideo.source.y+i.currentVideo.source.height)){var s={};g(s,"VSVS","Video.setVideoSize returns failure. out of range or type error.("+i.currentVideo.source.width+" : "+i.currentVideo.source.height+")");l(s);return}f.Request("luna://com.webos.service.tv.signage/",{method:"setVideoSize",parameters:{videoSize:{source:{x:m.source.x,y:m.source.y,width:m.source.width,height:m.source.height},destination:{x:r.x,y:r.y,width:r.width,height:r.height}}},onSuccess:function(t){d("setVideoSize: On Success 4");if(t.returnValue===true&&typeof k==="function"){k();return}},onFailure:function(t){d("setVideoSize: On Failure 4");delete t.returnValue;if(typeof l==="function"){g(t,"VSVS","Video.setVideoSize returns failure. Can't current video source size.");l(t);return}}})}}},onFailure:function(n){d("setVideoSize: On Failure");delete n.returnValue;if(typeof l==="function"){g(n,"VSVS","Video.setVideoSize returns failure.");l(n);return}}});d("Video.setVideoSize Done")};i.prototype.setContentRotation=function(j,k,m){var l={};g(l,"ERROR","This function is not supported");if(typeof k==="function"){k(l)}return};i.prototype.getContentRotation=function(j,k){var l={};g(l,"ERROR","This function is not supported");if(typeof k==="function"){k(l)}return};i.prototype.setVideoViewTransform=function(j,m,l){var k={};g(k,"ERROR","This function is not supported");if(typeof m==="function"){m(k)}return};i.prototype.setRotatedVideoTransform=function(j,m,l){var k={};g(k,"ERROR","This function is not supported");if(typeof m==="function"){m(k)}return};b.exports=i});Video=cordova.require("cordova/plugin/video");