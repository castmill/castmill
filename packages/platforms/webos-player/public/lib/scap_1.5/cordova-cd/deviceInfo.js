DeviceInfo=(function(){var d,a;function c(e){}if(typeof window==="object"){cordova.define("cordova/plugin/deviceInfo",function(f,e,g){d=function(){};if(window.PalmSystem){c("Window.PalmSystem Available");a=f("cordova/plugin/webos/service")}else{a={Request:function(h,i){c(h+" invoked. But I am a dummy because PalmSystem is not available");if(typeof i.onFailure==="function"){i.onFailure({returnValue:false,errorText:"PalmSystem Not Available. Cordova is not installed?"})}}}}g.exports=d});d=cordova.require("cordova/plugin/deviceInfo")}else{d=function(e){a=e;a.Request=function(f,h){var g=f+"/"+h.method;var i={};if(h.hasOwnProperty("parameters")===true){i=h.parameters}var j={};var k=function(l){console.log("res : "+JSON.stringify(l));if(l.payload.returnValue===true){j=l.payload;h.onSuccess(j)}else{j.returnValue=false;j.errorCode=l.payload.errorCode;j.errorText=l.payload.errorText;h.onFailure(j)}};if(a){a.call(g,i,k)}}};module.exports=d}function b(f,g,e){if(f.errorCode===undefined||f.errorCode===null){f.errorCode=g}if(f.errorText===undefined||f.errorText===null){f.errorText=e}}d.EddystoneFrame={UUID:"uid",URL:"url"};d.prototype.getNetworkInfo=function(e,f){c("getNetworkInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getNetworkInfo",parameters:{},onSuccess:function(g){if(typeof e==="function"){delete g.returnValue;e(g)}},onFailure:function(g){c("getNetworkInfo: onFailure");if(g.errorText.indexOf("Unknown method")!==-1){a.Request("luna://com.palm.connectionmanager",{method:"getstatus",parameters:{},onSuccess:function(h){c("getNetworkInfo: onSuccess");delete h.returnValue;if(typeof e==="function"){e(h)}},onFailure:function(h){c("getNetworkInfo: onFailure");delete h.returnValue;if(typeof f==="function"){f(h)}}})}else{delete g.returnValue;if(typeof f==="function"){f(g)}}}});c("DeviceInfo.getNetworkInfo Done")};d.prototype.setNetworkInfo=function(e,f,g){c("setNetworkInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setNetworkInfo",parameters:g,onSuccess:function(h){c("setNetworkInfo: onSuccess");if(typeof e==="function"){e()}},onFailure:function(h){c("setNetworkInfo: onFailure");delete h.returnValue;if(typeof f==="function"){f(h)}}});c("DeviceInfo.setNetworkInfo Done")};d.prototype.getBeaconInfo=function(e,f){c("getBeaconInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBeaconInfo",parameters:{},onSuccess:function(g){c("getBeaconInfo: onSuccess");delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getBeaconInfo: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.getBeaconInfo Done")};d.prototype.setBeaconInfo=function(f,g,h){c("setBeaconInfo: ");var i=function(k){if(typeof k==="undefined"||k===null||k.length!=32){return false}var j=new RegExp(/^[a-fA-F0-9]*$/g);return j.exec(k)!==null?true:false};if(h.enabled===true&&(i(h.uuid)===false||isNaN(h.major)||h.major<0||h.major>65535||isNaN(h.minor)||h.minor<0||h.minor>65535)){c("setBeaconInfo: options are invalid.");if(typeof g==="function"){var e={};b(e,"DSBI","DeviceInfo.setBeaconInfo. Invalid options.");g(e)}return}a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setBeaconInfo",parameters:h,onSuccess:function(j){c("setBeaconInfo: onSuccess");if(typeof f==="function"){f()}},onFailure:function(j){c("setBeaconInfo: onFailure");delete j.returnValue;if(typeof g==="function"){g(j)}}});c("DeviceInfo.setBeaconInfo Done")};d.prototype.getSoftApInfo=function(e,f){c("getSoftApInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getSoftApInfo",parameters:{},onSuccess:function(g){c("getSoftApInfo: onSuccess");delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getSoftApInfo: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.getSoftApInfo Done")};d.prototype.setSoftApInfo=function(f,g,h){c("setSoftApInfo: ");if(h.enabled===true&&((h.ssid!==null&&h.ssid.length>32)||(h.securityKey!==null&&h.securityKey.length!==6))){c("setSoftApInfo: options are invalid.");if(typeof g==="function"){var e={};b(e,"DSSI","DeviceInfo.setSoftApInfo. Invalid options.");g(e)}return}a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setSoftApInfo",parameters:h,onSuccess:function(i){c("setSoftApInfo: onSuccess");if(typeof f==="function"){f()}},onFailure:function(i){c("setSoftApInfo: onFailure");delete i.returnValue;if(typeof g==="function"){g(i)}}});c("DeviceInfo.setSoftApInfo Done")};d.prototype.getWifiList=function(e,f){c("getWifiList: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getWifiList",parameters:{},onSuccess:function(g){c("getWifiList: onSuccess");delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getWifiList: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.getWifiList Done")};d.prototype.connectWifi=function(e,f,g){c("connectWifi: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"connectWifi",parameters:g,onSuccess:function(h){c("connectWifi: onSuccess");if(typeof e==="function"){e()}},onFailure:function(h){c("connectWifi: onFailure");delete h.returnValue;if(typeof f==="function"){f(h)}}});c("DeviceInfo.connectWifi Done")};d.prototype.startWps=function(e,f,g){c("startWps: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"startWps",parameters:g,onSuccess:function(h){c("startWps: onSuccess");delete h.returnValue;if(typeof e==="function"){e(h)}},onFailure:function(h){c("startWps: onFailure");delete h.returnValue;if(typeof f==="function"){f(h)}}});c("DeviceInfo.startWps Done")};d.prototype.stopWps=function(e,f){c("stopWps: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"stopWps",parameters:{},onSuccess:function(g){c("stopWps: onSuccess");if(typeof e==="function"){e()}},onFailure:function(g){c("stopWPS: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.stopWps Done")};d.prototype.getNetworkMacInfo=function(e,f){c("getNetworkMacInfo: ");a.Request("luna://com.webos.service.tv.signage",{method:"getinfo",parameters:{},onSuccess:function(g){c("getNetworkMacInfo: onSuccess");delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getNetworkMacInfo: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.getNetworkMacInfo Done")};d.prototype.getPlatformInfo=function(e,f){c("getPlatformInfo: ");a.Request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["modelName","serialNumber","firmwareVersion","hardwareVersion","sdkVersion"]},onSuccess:function(g){c("getPlatformInfo: onSuccess");g.manufacturer="LGE";g.sdkVersion="1.5.11";delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getPlatformInfo: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}});c("DeviceInfo.getPlatformInfo Done")};d.prototype.getSystemUsageInfo=function(e,f,g){c("getSystemUsageInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice",{method:"getSystemUsageInfo",parameters:{cpus:g.cpus,memory:g.memory},onSuccess:function(h){if(h.returnValue===true){var i={};if(typeof h.memory!=="undefined"){i.memory=h.memory}if(typeof h.cpus!=="undefined"){i.cpus=h.cpus}if(typeof e==="function"){e(i)}}else{if(typeof f==="function"){f({errorCode:h.errorCode,errorText:h.errorText})}}},onFailure:function(h){if(typeof f==="function"){f({errorCode:h.errorCode,errorText:h.errorText})}}});c("DeviceInfo.getSystemUsageInfo Done")};d.prototype.setProxyInfo=function(f,g,h){var i={};c("setProxyInfo: "+h.enabled);if(typeof h.enabled!=="boolean"&&typeof g==="function"){var e={};b(e,"DSPI","DeviceInfo.setProxyInfo returns failure. enabled is not boolean.");g(e);return}if(h.enabled==false){i.proxyEnable="off";if(typeof h.ipAddress==="string"&&h.ipAddress.length<=512){i.proxySingleAddress=h.ipAddress}if(isNaN(h.port)===false){i.proxySinglePort=h.port.toString()}}else{i.proxyEnable="on";if((typeof h.ipAddress!=="string"||h.ipAddress.length>512)&&typeof g==="function"){var e={};b(e,"DSPI","DeviceInfo.setProxyInfo returns failure. ipAddress is not valid.");g(e);return}else{if(isNaN(h.port)&&typeof g==="function"){var e={};b(e,"DSPI","DeviceInfo.setProxyInfo returns failure. port is not number.");g(e);return}}i.proxySingleAddress=h.ipAddress;i.proxySinglePort=h.port.toString()}if(typeof h.userName==="string"){i.proxySingleUsername=h.userName}if(typeof h.password==="string"){i.proxySinglePassword=h.password}c("proxyInfo : "+JSON.stringify(i));a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:i},onSuccess:function(j){c("setProxyInfo: On Success");if(j.returnValue===true){if(typeof f==="function"){f()}}},onFailure:function(j){c("setSoundOut: On Failure");delete j.returnValue;if(typeof g==="function"){b(j,"DSPI","DeviceInfo.setProxyInfo returns failure.");g(j)}}});c("DeviceInfo.setProxyInfo Done")};d.prototype.getProxyInfo=function(e,f){c("getProxyInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["proxyEnable","proxySingleAddress","proxySinglePort"]},onSuccess:function(g){c("getProxyInfo: On Success");if(g.returnValue===true){var h={};h.enabled=(g.settings.proxyEnable==="on")?true:false;h.ipAddress=g.settings.proxySingleAddress;h.port=parseInt(g.settings.proxySinglePort);if(typeof e==="function"){e(h)}}},onFailure:function(g){c("getProxyInfo: On Failure");delete g.returnValue;if(typeof f==="function"){b(g,"DGPI","DeviceInfo.getProxyInfo returns failure.");f(g)}}});c("DeviceInfo.getProxyInfo Done")};d.prototype.setiBeaconInfo=function(f,h,i){var j=function(l){if(typeof l==="undefined"||l===null||l.length!=32){return false}var k=new RegExp(/^[a-fA-F0-9]*$/g);return k.exec(l)!==null?true:false};var g={};if((i.enabled===null||i.enabled===undefined||typeof i.enabled!=="boolean")&&typeof h==="function"){var e={};b(e,"DSIB","DeviceInfo.setiBeaconInfo returns failure. enabled is required.");h(e);c("DeviceInfo.setiBeaconInfo invalid ");return}if(i.enabled==false){g.beaconMode="off"}else{if((i.uuid===null||i.uuid===undefined||j(i.uuid)===false)&&typeof h==="function"){var e={};b(e,"DSIB","DeviceInfo.setiBeaconInfo returns failure. uuid is not valid.");h(e);c("DeviceInfo.setiBeaconInfo invalid ");return}if((i.major===null||i.major===undefined||isNaN(i.major)||i.major<0||i.major>65535||i.minor===null||i.minor===undefined||isNaN(i.minor)||i.minor<0||i.minor>65535)&&typeof h==="function"){var e={};b(e,"DSIB","DeviceInfo.setiBeaconInfo returns failure. major and minor are not valid.");h(e);c("DeviceInfo.setiBeaconInfo invalid ");return}g.beaconMode="on";g.beaconType="iBeacon";g.iBeaconUuid=i.uuid;g.iBeaconMajor=i.major.toString();g.iBeaconMinor=i.minor.toString()}c("iBeaconInfo: "+JSON.stringify(g));a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:g},onSuccess:function(k){c("setiBeaconInfo: On Success");if(k.returnValue===true){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(l){c("notifyUpdatingBeaconInfo: onSuccess");delete l.returnValue;if(typeof f==="function"){f(l)}},onFailure:function(l){c("notifyUpdatingBeaconInfo: onFailure");delete l.returnValue;if(typeof h==="function"){h(l)}}})}},onFailure:function(k){c("setiBeaconInfo: On Failure");delete k.returnValue;if(typeof h==="function"){b(k,"DSIB","DeviceInfo.setiBeaconInfo returns failure.");h(k)}}});c("DeviceInfo.setiBeaconInfo Done")};d.prototype.getiBeaconInfo=function(e,f){c("getiBeaconInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","iBeaconUuid","iBeaconMajor","iBeaconMinor"]},onSuccess:function(g){c("getiBeaconInfo: On Success");if(g.returnValue===true){var h={};h.enabled=(g.settings.beaconMode==="on")?true:false;h.uuid=g.settings.iBeaconUuid;h.major=parseInt(g.settings.iBeaconMajor);h.minor=parseInt(g.settings.iBeaconMinor);if(typeof e==="function"){e(h)}}},onFailure:function(g){c("getiBeaconInfo: On Failure");delete g.returnValue;if(typeof f==="function"){b(g,"DGIB","DeviceInfo.getiBeaconInfo returns failure.");f(g)}}});c("DeviceInfo.getiBeaconInfo Done")};d.prototype.setEddystoneInfo=function(h,i,j){var g=function(m){if(typeof m==="undefined"||m===null||m.length!=32){return false}var l=new RegExp(/^[a-fA-F0-9]*$/g);return l.exec(m)!==null?true:false};var k={};c("setEddystoneInfo: "+j.enabled);if((j.enabled===null||j.enabled===undefined||typeof j.enabled!=="boolean")&&typeof i==="function"){var f={};b(f,"DSEI","DeviceInfo.setEddystoneInfo returns failure. enabled is required.");i(f);c("DeviceInfo.setEddystoneInfo invalid ");return}if(j.enabled===false){k.beaconMode="off"}else{k.beaconMode="on";k.beaconType="eddystone";if(j.frame===d.EddystoneFrame.UUID){if(g(j.frameData)===false&&typeof i==="function"){var f={};b(f,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid.");i(f);c("DeviceInfo.setEddystoneInfo invalid ");return}k.eddyStoneFrame=j.frame;k.eddyStoneUuid=j.frameData}else{if(j.frame===d.EddystoneFrame.URL){if((j.frameData===null||j.frameData===undefined||typeof j.frameData!=="string"||j.frameData.search("://")<0||j.frameData.substring(0,4).toUpperCase()!=="HTTP")&&typeof i==="function"){var f={};b(f,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frameData is not valid.");i(f);c("DeviceInfo.setEddystoneInfo invalid ");return}k.eddyStoneFrame=j.frame;k.eddyStoneUrlPrefix=j.frameData.substring(0,j.frameData.search("://"));if(j.frameData.substring(j.frameData.search("://")+3,3).toUpperCase()==="WWW"){k.eddyStoneUrlPrefix=k.eddyStoneUrlPrefix+"Ex"}var e=0;if(k.eddyStoneUrlPrefix.toUpperCase()==="HTTP"){e=7}else{if(k.eddyStoneUrlPrefix.toUpperCase()==="HTTPEX"){e=11}else{if(k.eddyStoneUrlPrefix.toUpperCase()==="HTTPS"){e=8}else{if(k.eddyStoneUrlPrefix.toUpperCase()==="HTTPSEX"){e=12}}}}if(j.frameData.length-e>17){var f={};b(f,"DSEI","DeviceInfo.setEddystoneInfo returns failure. url size is over.");i(f);c("DeviceInfo.setEddystoneInfo invalid ");return}k.eddyStoneUrl=j.frameData.substring(e,j.frameData.length);k.eddyStoneUrlExCode="noneValue"}else{var f={};b(f,"DSEI","DeviceInfo.setEddystoneInfo returns failure. frame is not valid.");i(f);c("DeviceInfo.setEddystoneInfo invalid ");return}}}c("eddystoneInfo : "+JSON.stringify(k));a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"set",parameters:{category:"commercial",settings:k},onSuccess:function(l){c("setEddystoneInfo: On Success");if(l.returnValue===true){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"notifyUpdatingBeaconInfo",parameters:{},onSuccess:function(m){c("notifyUpdatingBeaconInfo: onSuccess");delete m.returnValue;if(typeof h==="function"){h(m)}},onFailure:function(m){c("notifyUpdatingBeaconInfo: onFailure");delete m.returnValue;if(typeof i==="function"){i(m)}}})}},onFailure:function(l){c("setEddystoneInfo: On Failure");delete l.returnValue;if(typeof i==="function"){b(l,"DSEI","DeviceInfo.setEddystoneInfo returns failure.");i(l)}}})};d.prototype.getEddystoneInfo=function(e,f){c("getEddystoneInfo: ");a.Request("luna://com.webos.service.commercial.signage.storageservice/settings/",{method:"get",parameters:{category:"commercial",keys:["beaconMode","eddyStoneFrame","eddyStoneUuid","eddyStoneUrlPrefix","eddyStoneUrl","eddyStoneUrlExCode"]},onSuccess:function(g){c("getEddystoneInfo: On Success");if(g.returnValue===true){var h={};h.enabled=(g.settings.beaconMode==="on")?true:false;h.frame=g.settings.eddyStoneFrame;if(g.settings.eddyStoneFrame===d.EddystoneFrame.UUID){h.frameData=g.settings.eddyStoneUuid}else{if(g.settings.eddyStoneUrlPrefix==="http"){h.frameData="http://"+g.settings.eddyStoneUrl}else{if(g.settings.eddyStoneUrlPrefix==="httpEx"){h.frameData="http://www."+g.settings.eddyStoneUrl}else{if(g.settings.eddyStoneUrlPrefix==="https"){h.frameData="https://"+g.settings.eddyStoneUrl}else{h.frameData="https://www."+g.settings.eddyStoneUrl}}}}if(typeof e==="function"){e(h)}}},onFailure:function(g){c("getEddystoneInfo: On Failure");delete g.returnValue;if(typeof f==="function"){b(g,"DGEI","DeviceInfo.getEddystoneInfo returns failure.");f(g)}}});c("DeviceInfo.getEddystoneInfo Done")};d.prototype.getBlockedPortList=function(e,f){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getBlockedPortList",parameters:{},onSuccess:function(g){delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){delete g.returnValue;if(typeof f==="function"){b(g,"DGEI","DeviceInfo.getBlockedPortList returns failure.");f(g)}}})};d.prototype.addBlockedPortList=function(e,f,g){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"addBlockedPortList",parameters:g,onSuccess:function(h){if(typeof e==="function"){e()}},onFailure:function(h){delete h.returnValue;if(typeof f==="function"){f(h)}}})};d.prototype.deleteBlockedPortList=function(e,f,g){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"deleteBlockedPortList",parameters:g,onSuccess:function(h){if(typeof e==="function"){e()}},onFailure:function(h){delete h.returnValue;if(typeof f==="function"){f(h)}}})};d.prototype.getNetworkCheckupInfo=function(e,f){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"getNetworkCheckupInfo",parameters:{},onSuccess:function(g){c("getNetworkCheckupInfo: onSuccess");delete g.returnValue;if(typeof e==="function"){e(g)}},onFailure:function(g){c("getNetworkCheckupInfo: onFailure");delete g.returnValue;if(typeof f==="function"){f(g)}}})};d.prototype.setNetworkCheckupInfo=function(e,f,g){a.Request("luna://com.webos.service.commercial.signage.storageservice/network/",{method:"setNetworkCheckupInfo",parameters:g,onSuccess:function(h){delete h.returnValue;if(typeof e==="function"){e()}},onFailure:function(h){delete h.returnValue;if(typeof f==="function"){b(h,"DSIB","DeviceInfo.setNetworkCheckupInfo returns failure.");f(h)}}})};return d}());